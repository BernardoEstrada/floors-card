var _Symbol$metadata,_a$1$litPropertyMetad,_a$1$reactiveElementV,_t$2$litHtmlVersions,_globalThis$litElemen,_globalThis$litElemen2,_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16;function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}));}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e;}function _superPropGet(t,o,e,r){var p=_get(_getPrototypeOf(1&r?t.prototype:t),o,e);return 2&r&&"function"==typeof p?function(t){return p.apply(e,t);}:p;}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var p=_superPropBase(e,t);if(p){var n=Object.getOwnPropertyDescriptor(p,t);return n.get?n.get.call(arguments.length<3?e:r):n.value;}},_get.apply(null,arguments);}function _superPropBase(t,o){for(;!{}.hasOwnProperty.call(t,o)&&null!==(t=_getPrototypeOf(t)););return t;}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r);}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r);}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1;}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r;}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return;}finally{if(o)throw n;}}return a;}}function _arrayWithHoles(r){if(Array.isArray(r))return r;}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return e;};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e];}try{define({},"");}catch(t){define=function define(t,e,r){return t[e]=r;};}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a;}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)};}catch(t){return{type:"throw",arg:t};}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,function(){return this;});var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){define(t,e,function(t){return this._invoke(e,t);});});}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){invoke("next",t,i,a);},function(t){invoke("throw",t,i,a);}):e.resolve(h).then(function(t){u.value=t,i(u);},function(t){return invoke("throw",t,i,a);});}a(c.arg);}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e(function(e,r){invoke(t,n,e,r);});}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}});}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0};}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u;}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg);}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done};}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg);}};}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y);}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0);}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next;};return i.next=i;}}throw new TypeError(_typeof(e)+" is not iterable");}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name));},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t;},e.awrap=function(t){return{__await:t};},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,function(){return this;}),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next();});},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,function(){return this;}),define(g,"toString",function(){return"[object Generator]";}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next;}return next.done=!0,next;};},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t);},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval;},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o;}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc);}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc);}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break;}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a);},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y;},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y;}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r);}return o;}}throw Error("illegal catch attempt");},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y;}},e;}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value;}catch(n){return void e(n);}i.done?t(u):Promise.resolve(u).then(r,o);}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n);}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n);}_next(void 0);});};}function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e));}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t);}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e;}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e);}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map():void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper);}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor);}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t);},_wrapNativeSuper(t);}function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o))();return r&&_setPrototypeOf(p,r.prototype),p;}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t;})();}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]");}catch(n){return"function"==typeof t;}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t;},_setPrototypeOf(t,e);}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t);},_getPrototypeOf(t);}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n3=0,F=function F(){};return{s:F,n:function n(){return _n3>=r.length?{done:!0}:{done:!1,value:r[_n3++]};},e:function e(r){throw r;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var o,a=!0,u=!1;return{s:function s(){t=t.call(r);},n:function n(){var r=t.next();return a=r.done,r;},e:function e(r){u=!0,o=r;},f:function f(){try{a||null==t.return||t.return();}finally{if(u)throw o;}}};}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0;}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n;}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o);}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+"";}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t);}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o;}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o;},_typeof(o);}/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** *//* global Reflect, Promise, SuppressedError, Symbol, Iterator */function __decorate(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;}typeof SuppressedError==="function"?SuppressedError:function(error,suppressed,message){var e=new Error(message);return e.name="SuppressedError",e.error=error,e.suppressed=suppressed,e;};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$3=globalThis,e$3=t$3.ShadowRoot&&(void 0===t$3.ShadyCSS||t$3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$3=Symbol(),o$4=new WeakMap();var n$5=/*#__PURE__*/function(){function n(t,e,o){_classCallCheck(this,n);if(this._$cssResult$=true,o!==s$3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e;}return _createClass(n,[{key:"styleSheet",get:function get(){var t=this.o;var s=this.t;if(e$3&&void 0===t){var _e2=void 0!==s&&1===s.length;_e2&&(t=o$4.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet()).replaceSync(this.cssText),_e2&&o$4.set(s,t));}return t;}},{key:"toString",value:function toString(){return this.cssText;}}]);}();var r$6=function r$6(t){return new n$5("string"==typeof t?t:t+"",void 0,s$3);},i$6=function i$6(t){for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}var o=1===t.length?t[0]:e.reduce(function(e,s,o){return e+function(t){if(true===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.");}(s)+t[o+1];},t[0]);return new n$5(o,t,s$3);},S$1=function S$1(s,o){if(e$3)s.adoptedStyleSheets=o.map(function(t){return t instanceof CSSStyleSheet?t:t.styleSheet;});else{var _iterator=_createForOfIteratorHelper(o),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _e3=_step.value;var _o=document.createElement("style"),_n=t$3.litNonce;void 0!==_n&&_o.setAttribute("nonce",_n),_o.textContent=_e3.cssText,s.appendChild(_o);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}},c$4=e$3?function(t){return t;}:function(t){return t instanceof CSSStyleSheet?function(t){var e="";var _iterator2=_createForOfIteratorHelper(t.cssRules),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _s=_step2.value;e+=_s.cssText;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return r$6(e);}(t):t;};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var i$5=Object.is,e$2=Object.defineProperty,r$5=Object.getOwnPropertyDescriptor,h$3=Object.getOwnPropertyNames,o$3=Object.getOwnPropertySymbols,n$4=Object.getPrototypeOf,a$1=globalThis,c$3=a$1.trustedTypes,l$1=c$3?c$3.emptyScript:"",p$1=a$1.reactiveElementPolyfillSupport,d$1=function d$1(t,s){return t;},u$1={toAttribute:function toAttribute(t,s){switch(s){case Boolean:t=t?l$1:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t);}return t;},fromAttribute:function fromAttribute(t,s){var i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t);}catch(t){i=null;}}return i;}},f$3=function f$3(t,s){return!i$5(t,s);},y$1={attribute:true,type:String,converter:u$1,reflect:false,hasChanged:f$3};(_Symbol$metadata=Symbol.metadata)!==null&&_Symbol$metadata!==void 0?_Symbol$metadata:Symbol.metadata=Symbol("metadata"),(_a$1$litPropertyMetad=a$1.litPropertyMetadata)!==null&&_a$1$litPropertyMetad!==void 0?_a$1$litPropertyMetad:a$1.litPropertyMetadata=new WeakMap();var b=/*#__PURE__*/function(_HTMLElement){function b(){var _this;_classCallCheck(this,b);_this=_callSuper(this,b),_this._$Ep=void 0,_this.isUpdatePending=false,_this.hasUpdated=false,_this._$Em=null,_this._$Ev();return _this;}_inherits(b,_HTMLElement);return _createClass(b,[{key:"_$Ev",value:function _$Ev(){var _this2=this,_this$constructor$l;this._$ES=new Promise(function(t){return _this2.enableUpdating=t;}),this._$AL=new Map(),this._$E_(),this.requestUpdate(),(_this$constructor$l=this.constructor.l)===null||_this$constructor$l===void 0?void 0:_this$constructor$l.forEach(function(t){return t(_this2);});}},{key:"addController",value:function addController(t){var _this$_$EO,_t$hostConnected;((_this$_$EO=this._$EO)!==null&&_this$_$EO!==void 0?_this$_$EO:this._$EO=new Set()).add(t),void 0!==this.renderRoot&&this.isConnected&&((_t$hostConnected=t.hostConnected)===null||_t$hostConnected===void 0?void 0:_t$hostConnected.call(t));}},{key:"removeController",value:function removeController(t){var _this$_$EO2;(_this$_$EO2=this._$EO)===null||_this$_$EO2===void 0||_this$_$EO2.delete(t);}},{key:"_$E_",value:function _$E_(){var t=new Map(),s=this.constructor.elementProperties;var _iterator3=_createForOfIteratorHelper(s.keys()),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _i=_step3.value;this.hasOwnProperty(_i)&&(t.set(_i,this[_i]),delete this[_i]);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}t.size>0&&(this._$Ep=t);}},{key:"createRenderRoot",value:function createRenderRoot(){var _this$shadowRoot;var t=(_this$shadowRoot=this.shadowRoot)!==null&&_this$shadowRoot!==void 0?_this$shadowRoot:this.attachShadow(this.constructor.shadowRootOptions);return S$1(t,this.constructor.elementStyles),t;}},{key:"connectedCallback",value:function connectedCallback(){var _this$renderRoot,_this$_$EO3;(_this$renderRoot=this.renderRoot)!==null&&_this$renderRoot!==void 0?_this$renderRoot:this.renderRoot=this.createRenderRoot(),this.enableUpdating(true),(_this$_$EO3=this._$EO)===null||_this$_$EO3===void 0?void 0:_this$_$EO3.forEach(function(t){var _t$hostConnected2;return(_t$hostConnected2=t.hostConnected)===null||_t$hostConnected2===void 0?void 0:_t$hostConnected2.call(t);});}},{key:"enableUpdating",value:function enableUpdating(t){}},{key:"disconnectedCallback",value:function disconnectedCallback(){var _this$_$EO4;(_this$_$EO4=this._$EO)===null||_this$_$EO4===void 0||_this$_$EO4.forEach(function(t){var _t$hostDisconnected;return(_t$hostDisconnected=t.hostDisconnected)===null||_t$hostDisconnected===void 0?void 0:_t$hostDisconnected.call(t);});}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,s,i){this._$AK(t,i);}},{key:"_$EC",value:function _$EC(t,s){var i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&true===i.reflect){var _i$converter;var _r=(void 0!==((_i$converter=i.converter)===null||_i$converter===void 0?void 0:_i$converter.toAttribute)?i.converter:u$1).toAttribute(s,i.type);this._$Em=t,null==_r?this.removeAttribute(e):this.setAttribute(e,_r),this._$Em=null;}}},{key:"_$AK",value:function _$AK(t,s){var i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){var _t$converter;var _t=i.getPropertyOptions(e),_r2="function"==typeof _t.converter?{fromAttribute:_t.converter}:void 0!==((_t$converter=_t.converter)===null||_t$converter===void 0?void 0:_t$converter.fromAttribute)?_t.converter:u$1;this._$Em=e,this[e]=_r2.fromAttribute(s,_t.type),this._$Em=null;}}},{key:"requestUpdate",value:function requestUpdate(t,s,i){if(void 0!==t){var _i$hasChanged;if(i!==null&&i!==void 0?i:i=this.constructor.getPropertyOptions(t),!((_i$hasChanged=i.hasChanged)!==null&&_i$hasChanged!==void 0?_i$hasChanged:f$3)(this[t],s))return;this.P(t,s,i);}false===this.isUpdatePending&&(this._$ES=this._$ET());}},{key:"P",value:function P(t,s,i){var _this$_$Ej;this._$AL.has(t)||this._$AL.set(t,s),true===i.reflect&&this._$Em!==t&&((_this$_$Ej=this._$Ej)!==null&&_this$_$Ej!==void 0?_this$_$Ej:this._$Ej=new Set()).add(t);}},{key:"_$ET",value:function(){var _$ET2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var t;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:this.isUpdatePending=true;_context.prev=1;_context.next=4;return this._$ES;case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);Promise.reject(_context.t0);case 9:t=this.scheduleUpdate();_context.t1=null!=t;if(!_context.t1){_context.next=14;break;}_context.next=14;return t;case 14:return _context.abrupt("return",!this.isUpdatePending);case 15:case"end":return _context.stop();}},_callee,this,[[1,6]]);}));function _$ET(){return _$ET2.apply(this,arguments);}return _$ET;}()},{key:"scheduleUpdate",value:function scheduleUpdate(){return this.performUpdate();}},{key:"performUpdate",value:function performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){var _this$renderRoot2;if((_this$renderRoot2=this.renderRoot)!==null&&_this$renderRoot2!==void 0?_this$renderRoot2:this.renderRoot=this.createRenderRoot(),this._$Ep){var _iterator4=_createForOfIteratorHelper(this._$Ep),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _step4$value=_slicedToArray(_step4.value,2),_t2=_step4$value[0],_s2=_step4$value[1];this[_t2]=_s2;}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}this._$Ep=void 0;}var _t3=this.constructor.elementProperties;if(_t3.size>0){var _iterator5=_createForOfIteratorHelper(_t3),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _step5$value=_slicedToArray(_step5.value,2),_s3=_step5$value[0],_i2=_step5$value[1];true!==_i2.wrapped||this._$AL.has(_s3)||void 0===this[_s3]||this.P(_s3,this[_s3],_i2);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}}var t=false;var s=this._$AL;try{var _this$_$EO5;t=this.shouldUpdate(s),t?(this.willUpdate(s),(_this$_$EO5=this._$EO)!==null&&_this$_$EO5!==void 0&&_this$_$EO5.forEach(function(t){var _t$hostUpdate;return(_t$hostUpdate=t.hostUpdate)===null||_t$hostUpdate===void 0?void 0:_t$hostUpdate.call(t);}),this.update(s)):this._$EU();}catch(s){throw t=false,this._$EU(),s;}t&&this._$AE(s);}},{key:"willUpdate",value:function willUpdate(t){}},{key:"_$AE",value:function _$AE(t){var _this$_$EO6;(_this$_$EO6=this._$EO)!==null&&_this$_$EO6!==void 0&&_this$_$EO6.forEach(function(t){var _t$hostUpdated;return(_t$hostUpdated=t.hostUpdated)===null||_t$hostUpdated===void 0?void 0:_t$hostUpdated.call(t);}),this.hasUpdated||(this.hasUpdated=true,this.firstUpdated(t)),this.updated(t);}},{key:"_$EU",value:function _$EU(){this._$AL=new Map(),this.isUpdatePending=false;}},{key:"updateComplete",get:function get(){return this.getUpdateComplete();}},{key:"getUpdateComplete",value:function getUpdateComplete(){return this._$ES;}},{key:"shouldUpdate",value:function shouldUpdate(t){return true;}},{key:"update",value:function update(t){var _this3=this;this._$Ej&&(this._$Ej=this._$Ej.forEach(function(t){return _this3._$EC(t,_this3[t]);})),this._$EU();}},{key:"updated",value:function updated(t){}},{key:"firstUpdated",value:function firstUpdated(t){}}],[{key:"addInitializer",value:function addInitializer(t){var _this$l;this._$Ei(),((_this$l=this.l)!==null&&_this$l!==void 0?_this$l:this.l=[]).push(t);}},{key:"observedAttributes",get:function get(){return this.finalize(),this._$Eh&&_toConsumableArray(this._$Eh.keys());}},{key:"createProperty",value:function createProperty(t){var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:y$1;if(s.state&&(s.attribute=false),this._$Ei(),this.elementProperties.set(t,s),!s.noAccessor){var _i3=Symbol(),_r3=this.getPropertyDescriptor(t,_i3,s);void 0!==_r3&&e$2(this.prototype,t,_r3);}}},{key:"getPropertyDescriptor",value:function getPropertyDescriptor(t,s,i){var _r$;var _ref=(_r$=r$5(this.prototype,t))!==null&&_r$!==void 0?_r$:{get:function get(){return this[s];},set:function set(t){this[s]=t;}},e=_ref.get,h=_ref.set;return{get:function get(){return e===null||e===void 0?void 0:e.call(this);},set:function set(s){var r=e===null||e===void 0?void 0:e.call(this);h.call(this,s),this.requestUpdate(t,r,i);},configurable:true,enumerable:true};}},{key:"getPropertyOptions",value:function getPropertyOptions(t){var _this$elementProperti;return(_this$elementProperti=this.elementProperties.get(t))!==null&&_this$elementProperti!==void 0?_this$elementProperti:y$1;}},{key:"_$Ei",value:function _$Ei(){if(this.hasOwnProperty(d$1("elementProperties")))return;var t=n$4(this);t.finalize(),void 0!==t.l&&(this.l=_toConsumableArray(t.l)),this.elementProperties=new Map(t.elementProperties);}},{key:"finalize",value:function finalize(){if(this.hasOwnProperty(d$1("finalized")))return;if(this.finalized=true,this._$Ei(),this.hasOwnProperty(d$1("properties"))){var _t4=this.properties,_s4=[].concat(_toConsumableArray(h$3(_t4)),_toConsumableArray(o$3(_t4)));var _iterator6=_createForOfIteratorHelper(_s4),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _i4=_step6.value;this.createProperty(_i4,_t4[_i4]);}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}}var t=this[Symbol.metadata];if(null!==t){var _s5=litPropertyMetadata.get(t);if(void 0!==_s5){var _iterator7=_createForOfIteratorHelper(_s5),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _step7$value=_slicedToArray(_step7.value,2),_t5=_step7$value[0],_i5=_step7$value[1];this.elementProperties.set(_t5,_i5);}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}}this._$Eh=new Map();var _iterator8=_createForOfIteratorHelper(this.elementProperties),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _step8$value=_slicedToArray(_step8.value,2),_t6=_step8$value[0],_s6=_step8$value[1];var _i6=this._$Eu(_t6,_s6);void 0!==_i6&&this._$Eh.set(_i6,_t6);}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}this.elementStyles=this.finalizeStyles(this.styles);}},{key:"finalizeStyles",value:function finalizeStyles(s){var i=[];if(Array.isArray(s)){var _e4=new Set(s.flat(1/0).reverse());var _iterator9=_createForOfIteratorHelper(_e4),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _s7=_step9.value;i.unshift(c$4(_s7));}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}}else void 0!==s&&i.push(c$4(s));return i;}},{key:"_$Eu",value:function _$Eu(t,s){var i=s.attribute;return false===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0;}}]);}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));b.elementStyles=[],b.shadowRootOptions={mode:"open"},b[d$1("elementProperties")]=new Map(),b[d$1("finalized")]=new Map(),p$1!==null&&p$1!==void 0&&p$1({ReactiveElement:b}),((_a$1$reactiveElementV=a$1.reactiveElementVersions)!==null&&_a$1$reactiveElementV!==void 0?_a$1$reactiveElementV:a$1.reactiveElementVersions=[]).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$2=globalThis,i$4=t$2.trustedTypes,s$2=i$4?i$4.createPolicy("lit-html",{createHTML:function createHTML(t){return t;}}):void 0,e$1="$lit$",h$2="lit$".concat(Math.random().toFixed(9).slice(2),"$"),o$2="?"+h$2,n$3="<".concat(o$2,">"),r$4=document,l=function l(){return r$4.createComment("");},c$2=function c$2(t){return null===t||"object"!=_typeof(t)&&"function"!=typeof t;},a=Array.isArray,u=function u(t){return a(t)||"function"==typeof(t===null||t===void 0?void 0:t[Symbol.iterator]);},d="[ \t\n\f\r]",f$2=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,_=/>/g,m$1=RegExp(">|".concat(d,"(?:([^\\s\"'>=/]+)(").concat(d,"*=").concat(d,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),p=/'/g,g=/"/g,$=/^(?:script|style|textarea|title)$/i,y=function y(t){return function(i){for(var _len2=arguments.length,s=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){s[_key2-1]=arguments[_key2];}return{_$litType$:t,strings:i,values:s};};},x=y(1),T=Symbol.for("lit-noChange"),E=Symbol.for("lit-nothing"),A=new WeakMap(),C=r$4.createTreeWalker(r$4,129);function P(t,i){if(!a(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s$2?s$2.createHTML(i):i;}var V=function V(t,i){var s=t.length-1,o=[];var r,l=2===i?"<svg>":3===i?"<math>":"",c=f$2;for(var _i7=0;_i7<s;_i7++){var _s8=t[_i7];var _a2=void 0,_u=void 0,_d2=-1,_y=0;for(;_y<_s8.length&&(c.lastIndex=_y,_u=c.exec(_s8),null!==_u);)_y=c.lastIndex,c===f$2?"!--"===_u[1]?c=v:void 0!==_u[1]?c=_:void 0!==_u[2]?($.test(_u[2])&&(r=RegExp("</"+_u[2],"g")),c=m$1):void 0!==_u[3]&&(c=m$1):c===m$1?">"===_u[0]?(c=r!==null&&r!==void 0?r:f$2,_d2=-1):void 0===_u[1]?_d2=-2:(_d2=c.lastIndex-_u[2].length,_a2=_u[1],c=void 0===_u[3]?m$1:'"'===_u[3]?g:p):c===g||c===p?c=m$1:c===v||c===_?c=f$2:(c=m$1,r=void 0);var _x=c===m$1&&t[_i7+1].startsWith("/>")?" ":"";l+=c===f$2?_s8+n$3:_d2>=0?(o.push(_a2),_s8.slice(0,_d2)+e$1+_s8.slice(_d2)+h$2+_x):_s8+h$2+(-2===_d2?_i7:_x);}return[P(t,l+(t[s]||"<?>")+(2===i?"</svg>":3===i?"</math>":"")),o];};var N=/*#__PURE__*/function(){function N(_ref2,n){var t=_ref2.strings,s=_ref2._$litType$;_classCallCheck(this,N);var r;this.parts=[];var c=0,a=0;var u=t.length-1,d=this.parts,_V=V(t,s),_V2=_slicedToArray(_V,2),f=_V2[0],v=_V2[1];if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){var _t7=this.el.content.firstChild;_t7.replaceWith.apply(_t7,_toConsumableArray(_t7.childNodes));}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes()){var _iterator10=_createForOfIteratorHelper(r.getAttributeNames()),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _t8=_step10.value;if(_t8.endsWith(e$1)){var _i8=v[a++],_s9=r.getAttribute(_t8).split(h$2),_e5=/([.?@])?(.*)/.exec(_i8);d.push({type:1,index:c,name:_e5[2],strings:_s9,ctor:"."===_e5[1]?H:"?"===_e5[1]?I:"@"===_e5[1]?L:k}),r.removeAttribute(_t8);}else _t8.startsWith(h$2)&&(d.push({type:6,index:c}),r.removeAttribute(_t8));}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}}if($.test(r.tagName)){var _t9=r.textContent.split(h$2),_s10=_t9.length-1;if(_s10>0){r.textContent=i$4?i$4.emptyScript:"";for(var _i9=0;_i9<_s10;_i9++)r.append(_t9[_i9],l()),C.nextNode(),d.push({type:2,index:++c});r.append(_t9[_s10],l());}}}else if(8===r.nodeType)if(r.data===o$2)d.push({type:2,index:c});else{var _t10=-1;for(;-1!==(_t10=r.data.indexOf(h$2,_t10+1));)d.push({type:7,index:c}),_t10+=h$2.length-1;}c++;}}return _createClass(N,null,[{key:"createElement",value:function createElement(t,i){var s=r$4.createElement("template");return s.innerHTML=t,s;}}]);}();function S(t,i){var _s$_$Co,_h2,_h3,_h3$_$AO,_s$_$Co2;var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t;var e=arguments.length>3?arguments[3]:undefined;if(i===T)return i;var h=void 0!==e?(_s$_$Co=s._$Co)===null||_s$_$Co===void 0?void 0:_s$_$Co[e]:s._$Cl;var o=c$2(i)?void 0:i._$litDirective$;return((_h2=h)===null||_h2===void 0?void 0:_h2.constructor)!==o&&((_h3=h)!==null&&_h3!==void 0&&(_h3$_$AO=_h3._$AO)!==null&&_h3$_$AO!==void 0&&_h3$_$AO.call(_h3,false),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?((_s$_$Co2=s._$Co)!==null&&_s$_$Co2!==void 0?_s$_$Co2:s._$Co=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i;}var M=/*#__PURE__*/function(){function M(t,i){_classCallCheck(this,M);this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i;}return _createClass(M,[{key:"parentNode",get:function get(){return this._$AM.parentNode;}},{key:"_$AU",get:function get(){return this._$AM._$AU;}},{key:"u",value:function u(t){var _t$creationScope;var _this$_$AD=this._$AD,i=_this$_$AD.el.content,s=_this$_$AD.parts,e=((_t$creationScope=t===null||t===void 0?void 0:t.creationScope)!==null&&_t$creationScope!==void 0?_t$creationScope:r$4).importNode(i,true);C.currentNode=e;var h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){var _l;if(o===l.index){var _i10=void 0;2===l.type?_i10=new R(h,h.nextSibling,this,t):1===l.type?_i10=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(_i10=new z(h,this,t)),this._$AV.push(_i10),l=s[++n];}o!==((_l=l)===null||_l===void 0?void 0:_l.index)&&(h=C.nextNode(),o++);}return C.currentNode=r$4,e;}},{key:"p",value:function p(t){var i=0;var _iterator11=_createForOfIteratorHelper(this._$AV),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _s11=_step11.value;void 0!==_s11&&(void 0!==_s11.strings?(_s11._$AI(t,_s11,i),i+=_s11.strings.length-2):_s11._$AI(t[i])),i++;}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}}}]);}();var R=/*#__PURE__*/function(){function R(t,i,s,e){var _e$isConnected;_classCallCheck(this,R);this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=(_e$isConnected=e===null||e===void 0?void 0:e.isConnected)!==null&&_e$isConnected!==void 0?_e$isConnected:true;}return _createClass(R,[{key:"_$AU",get:function get(){var _this$_$AM$_$AU,_this$_$AM;return(_this$_$AM$_$AU=(_this$_$AM=this._$AM)===null||_this$_$AM===void 0?void 0:_this$_$AM._$AU)!==null&&_this$_$AM$_$AU!==void 0?_this$_$AM$_$AU:this._$Cv;}},{key:"parentNode",get:function get(){var _t11;var t=this._$AA.parentNode;var i=this._$AM;return void 0!==i&&11===((_t11=t)===null||_t11===void 0?void 0:_t11.nodeType)&&(t=i.parentNode),t;}},{key:"startNode",get:function get(){return this._$AA;}},{key:"endNode",get:function get(){return this._$AB;}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this;t=S(this,t,i),c$2(t)?t===E||null==t||""===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t);}},{key:"O",value:function O(t){return this._$AA.parentNode.insertBefore(t,this._$AB);}},{key:"T",value:function T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t));}},{key:"_",value:function _(t){this._$AH!==E&&c$2(this._$AH)?this._$AA.nextSibling.data=t:this.T(r$4.createTextNode(t)),this._$AH=t;}},{key:"$",value:function $(t){var _this$_$AH;var i=t.values,s=t._$litType$,e="number"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(((_this$_$AH=this._$AH)===null||_this$_$AH===void 0?void 0:_this$_$AH._$AD)===e)this._$AH.p(i);else{var _t12=new M(e,this),_s12=_t12.u(this.options);_t12.p(i),this.T(_s12),this._$AH=_t12;}}},{key:"_$AC",value:function _$AC(t){var i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i;}},{key:"k",value:function k(t){a(this._$AH)||(this._$AH=[],this._$AR());var i=this._$AH;var s,e=0;var _iterator12=_createForOfIteratorHelper(t),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _h4=_step12.value;e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(_h4),e++;}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e);}},{key:"_$AR",value:function _$AR(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._$AA.nextSibling;var i=arguments.length>1?arguments[1]:undefined;for((_this$_$AP=this._$AP)===null||_this$_$AP===void 0?void 0:_this$_$AP.call(this,false,true,i);t&&t!==this._$AB;){var _this$_$AP;var _i11=t.nextSibling;t.remove(),t=_i11;}}},{key:"setConnected",value:function setConnected(t){var _this$_$AP2;void 0===this._$AM&&(this._$Cv=t,(_this$_$AP2=this._$AP)===null||_this$_$AP2===void 0?void 0:_this$_$AP2.call(this,t));}}]);}();var k=/*#__PURE__*/function(){function k(t,i,s,e,h){_classCallCheck(this,k);this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String()),this.strings=s):this._$AH=E;}return _createClass(k,[{key:"tagName",get:function get(){return this.element.tagName;}},{key:"_$AU",get:function get(){return this._$AM._$AU;}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this;var s=arguments.length>2?arguments[2]:undefined;var e=arguments.length>3?arguments[3]:undefined;var h=this.strings;var o=false;if(void 0===h)t=S(this,t,i,0),o=!c$2(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{var _e6=t;var _n2,_r4;for(t=h[0],_n2=0;_n2<h.length-1;_n2++)_r4=S(this,_e6[s+_n2],i,_n2),_r4===T&&(_r4=this._$AH[_n2]),o||(o=!c$2(_r4)||_r4!==this._$AH[_n2]),_r4===E?t=E:t!==E&&(t+=(_r4!==null&&_r4!==void 0?_r4:"")+h[_n2+1]),this._$AH[_n2]=_r4;}o&&!e&&this.j(t);}},{key:"j",value:function j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!==null&&t!==void 0?t:"");}}]);}();var H=/*#__PURE__*/function(_k){function H(){var _this4;_classCallCheck(this,H);_this4=_callSuper(this,H,arguments),_this4.type=3;return _this4;}_inherits(H,_k);return _createClass(H,[{key:"j",value:function j(t){this.element[this.name]=t===E?void 0:t;}}]);}(k);var I=/*#__PURE__*/function(_k2){function I(){var _this5;_classCallCheck(this,I);_this5=_callSuper(this,I,arguments),_this5.type=4;return _this5;}_inherits(I,_k2);return _createClass(I,[{key:"j",value:function j(t){this.element.toggleAttribute(this.name,!!t&&t!==E);}}]);}(k);var L=/*#__PURE__*/function(_k3){function L(t,i,s,e,h){var _this6;_classCallCheck(this,L);_this6=_callSuper(this,L,[t,i,s,e,h]),_this6.type=5;return _this6;}_inherits(L,_k3);return _createClass(L,[{key:"_$AI",value:function _$AI(t){var _S;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this;if((t=(_S=S(this,t,i,0))!==null&&_S!==void 0?_S:E)===T)return;var s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t;}},{key:"handleEvent",value:function handleEvent(t){var _this$options$host,_this$options;"function"==typeof this._$AH?this._$AH.call((_this$options$host=(_this$options=this.options)===null||_this$options===void 0?void 0:_this$options.host)!==null&&_this$options$host!==void 0?_this$options$host:this.element,t):this._$AH.handleEvent(t);}}]);}(k);var z=/*#__PURE__*/function(){function z(t,i,s){_classCallCheck(this,z);this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s;}return _createClass(z,[{key:"_$AU",get:function get(){return this._$AM._$AU;}},{key:"_$AI",value:function _$AI(t){S(this,t);}}]);}();var j=t$2.litHtmlPolyfillSupport;j!==null&&j!==void 0&&j(N,R),((_t$2$litHtmlVersions=t$2.litHtmlVersions)!==null&&_t$2$litHtmlVersions!==void 0?_t$2$litHtmlVersions:t$2.litHtmlVersions=[]).push("3.2.1");var B=function B(t,i,s){var _s$renderBefore;var e=(_s$renderBefore=s===null||s===void 0?void 0:s.renderBefore)!==null&&_s$renderBefore!==void 0?_s$renderBefore:i;var h=e._$litPart$;if(void 0===h){var _s$renderBefore2;var _t13=(_s$renderBefore2=s===null||s===void 0?void 0:s.renderBefore)!==null&&_s$renderBefore2!==void 0?_s$renderBefore2:null;e._$litPart$=h=new R(i.insertBefore(l(),_t13),_t13,void 0,s!==null&&s!==void 0?s:{});}return h._$AI(t),h;};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var r$3=/*#__PURE__*/function(_b2){function r(){var _this7;_classCallCheck(this,r);_this7=_callSuper(this,r,arguments),_this7.renderOptions={host:_assertThisInitialized(_this7)},_this7._$Do=void 0;return _this7;}_inherits(r,_b2);return _createClass(r,[{key:"createRenderRoot",value:function createRenderRoot(){var _this$renderOptions,_this$renderOptions$r;var t=_superPropGet(r,"createRenderRoot",this,3)([]);return(_this$renderOptions$r=(_this$renderOptions=this.renderOptions).renderBefore)!==null&&_this$renderOptions$r!==void 0?_this$renderOptions$r:_this$renderOptions.renderBefore=t.firstChild,t;}},{key:"update",value:function update(t){var s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_superPropGet(r,"update",this,3)([t]),this._$Do=B(s,this.renderRoot,this.renderOptions);}},{key:"connectedCallback",value:function connectedCallback(){var _this$_$Do;_superPropGet(r,"connectedCallback",this,3)([]),(_this$_$Do=this._$Do)===null||_this$_$Do===void 0?void 0:_this$_$Do.setConnected(true);}},{key:"disconnectedCallback",value:function disconnectedCallback(){var _this$_$Do2;_superPropGet(r,"disconnectedCallback",this,3)([]),(_this$_$Do2=this._$Do)===null||_this$_$Do2===void 0?void 0:_this$_$Do2.setConnected(false);}},{key:"render",value:function render(){return T;}}]);}(b);r$3._$litElement$=true,r$3["finalized"]=true,(_globalThis$litElemen=globalThis.litElementHydrateSupport)===null||_globalThis$litElemen===void 0?void 0:_globalThis$litElemen.call(globalThis,{LitElement:r$3});var i$3=globalThis.litElementPolyfillSupport;i$3===null||i$3===void 0||i$3({LitElement:r$3});((_globalThis$litElemen2=globalThis.litElementVersions)!==null&&_globalThis$litElemen2!==void 0?_globalThis$litElemen2:globalThis.litElementVersions=[]).push("4.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$1=function t$1(t){return function(e,o){void 0!==o?o.addInitializer(function(){customElements.define(t,e);}):customElements.define(t,e);};};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var o$1={attribute:true,type:String,converter:u$1,reflect:false,hasChanged:f$3},r$2=function r$2(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:o$1;var e=arguments.length>1?arguments[1]:undefined;var r=arguments.length>2?arguments[2]:undefined;var n=r.kind,i=r.metadata;var s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map()),s.set(r.name,t),"accessor"===n){var _o2=r.name;return{set:function set(r){var n=e.get.call(this);e.set.call(this,r),this.requestUpdate(_o2,n,t);},init:function init(e){return void 0!==e&&this.P(_o2,void 0,t),e;}};}if("setter"===n){var _o3=r.name;return function(r){var n=this[_o3];e.call(this,r),this.requestUpdate(_o3,n,t);};}throw Error("Unsupported decorator location: "+n);};function n$2(t){return function(e,o){return"object"==_typeof(o)?r$2(t,e,o):function(t,e,o){var r=e.hasOwnProperty(o);return e.constructor.createProperty(o,r?_objectSpread(_objectSpread({},t),{},{wrapped:true}):t),r?Object.getOwnPropertyDescriptor(e,o):void 0;}(t,e,o);};}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function r$1(r){return n$2(_objectSpread(_objectSpread({},r),{},{state:true,attribute:false}));}var styles=i$6(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n  :host {\n    display: block;\n    /* padding: 16px; */\n  }\n  h2 {\n    margin: 0;\n    display: flex;\n    align-items: center;\n    font-weight: 500;\n    &.icon-right {\n      flex-direction: row-reverse;\n      justify-content: flex-end;\n      > ha-icon {\n        margin-left: 8px;\n      }\n    }\n    &.icon-left {\n      flex-direction: row;\n      justify-content: flex-start;\n      > ha-icon {\n        margin-right: 8px;\n      }\n    }\n  }\n  h3 {\n    margin: 0 8px 0 16px;\n    display: flex;\n    align-items: center;\n    font-weight: 400;\n    &.icon-right {\n      flex-direction: row-reverse;\n      justify-content: flex-end;\n      > ha-icon {\n        margin-left: 8px;\n      }\n    }\n    &.icon-left {\n      flex-direction: row;\n      justify-content: flex-start;\n      > ha-icon {\n        margin-right: 8px;\n      }\n    }\n  }\n  ha-card {\n    overflow: hidden;\n    /* padding: 16px; */\n    border-radius: var(--ha-card-border-radius, 12px);\n    box-shadow: var(--ha-card-box-shadow, 0px 2px 4px rgba(0, 0, 0, 0.1));\n  }\n  .card-content {\n    display: flex;\n    flex-direction: column;\n  }\n  .floor {\n    gap: 8px;\n    display: flex;\n    flex-direction: column;\n    /* margin-bottom: 24px; */\n  }\n  .area {\n    /* margin: 8px 0; */\n    display: flex;\n    align-items: center;\n    &.entity-icons-right {\n      justify-content: space-between;\n    }\n    &.entity-icons-left {\n      justify-content: flex-start;\n    }\n  }\n  .entities {\n    display: flex;\n    flex-wrap: nowrap;\n    gap: 0.5em;\n  }\n  .entity-card-button {\n    border-radius: 50%;\n    --mdc-icon-button-size: 36px;\n  }\n  .entity-card-button ha-icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    --mdc-icon-size: 0.9em;\n  }\n"])));/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var i$2=function i$2(o){return null===o||"object"!=_typeof(o)&&"function"!=typeof o;},f$1=function f$1(o){return void 0===o.strings;};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t={CHILD:2},e=function e(t){return function(){for(var _len3=arguments.length,e=new Array(_len3),_key3=0;_key3<_len3;_key3++){e[_key3]=arguments[_key3];}return{_$litDirective$:t,values:e};};};var i$1=/*#__PURE__*/function(){function i(t){_classCallCheck(this,i);}return _createClass(i,[{key:"_$AU",get:function get(){return this._$AM._$AU;}},{key:"_$AT",value:function _$AT(t,e,_i12){this._$Ct=t,this._$AM=e,this._$Ci=_i12;}},{key:"_$AS",value:function _$AS(t,e){return this.update(t,e);}},{key:"update",value:function update(t,e){return this.render.apply(this,_toConsumableArray(e));}}]);}();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var _s$=function s$1(i,t){var e=i._$AN;if(void 0===e)return false;var _iterator13=_createForOfIteratorHelper(e),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var _i13$_$AO;var _i13=_step13.value;(_i13$_$AO=_i13._$AO)!==null&&_i13$_$AO!==void 0&&_i13$_$AO.call(_i13,t,false),_s$(_i13,t);}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}return true;},o=function o(i){var t,e;do{var _e7;if(void 0===(t=i._$AM))break;e=t._$AN,e.delete(i),i=t;}while(0===((_e7=e)===null||_e7===void 0?void 0:_e7.size));},r=function r(i){for(var _t14;_t14=i._$AM;i=_t14){var _e8=_t14._$AN;if(void 0===_e8)_t14._$AN=_e8=new Set();else if(_e8.has(i))break;_e8.add(i),c$1(_t14);}};function h$1(i){void 0!==this._$AN?(o(this),this._$AM=i,r(this)):this._$AM=i;}function n$1(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var r=this._$AH,h=this._$AN;if(void 0!==h&&0!==h.size)if(t){if(Array.isArray(r))for(var _i14=e;_i14<r.length;_i14++)_s$(r[_i14],false),o(r[_i14]);else null!=r&&(_s$(r,false),o(r));}else _s$(this,i);}var c$1=function c$1(i){var _i$_$AP,_i$_$AQ;i.type==t.CHILD&&((_i$_$AP=i._$AP)!==null&&_i$_$AP!==void 0?_i$_$AP:i._$AP=n$1,(_i$_$AQ=i._$AQ)!==null&&_i$_$AQ!==void 0?_i$_$AQ:i._$AQ=h$1);};var f=/*#__PURE__*/function(_i$){function f(){var _this8;_classCallCheck(this,f);_this8=_callSuper(this,f,arguments),_this8._$AN=void 0;return _this8;}_inherits(f,_i$);return _createClass(f,[{key:"_$AT",value:function _$AT(i,t,e){_superPropGet(f,"_$AT",this,3)([i,t,e]),r(this),this.isConnected=i._$AU;}},{key:"_$AO",value:function _$AO(i){var _this$reconnected,_this$disconnected;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;i!==this.isConnected&&(this.isConnected=i,i?(_this$reconnected=this.reconnected)===null||_this$reconnected===void 0?void 0:_this$reconnected.call(this):(_this$disconnected=this.disconnected)===null||_this$disconnected===void 0?void 0:_this$disconnected.call(this)),t&&(_s$(this,i),o(this));}},{key:"setValue",value:function setValue(t){if(f$1(this._$Ct))this._$Ct._$AI(t,this);else{var _i15=_toConsumableArray(this._$Ct._$AH);_i15[this._$Ci]=t,this._$Ct._$AI(_i15,this,0);}}},{key:"disconnected",value:function disconnected(){}},{key:"reconnected",value:function reconnected(){}}]);}(i$1);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var s=/*#__PURE__*/function(){function s(t){_classCallCheck(this,s);this.Y=t;}return _createClass(s,[{key:"disconnect",value:function disconnect(){this.Y=void 0;}},{key:"reconnect",value:function reconnect(t){this.Y=t;}},{key:"deref",value:function deref(){return this.Y;}}]);}();var i=/*#__PURE__*/function(){function i(){_classCallCheck(this,i);this.Z=void 0,this.q=void 0;}return _createClass(i,[{key:"get",value:function get(){return this.Z;}},{key:"pause",value:function pause(){var _this$Z,_this9=this;(_this$Z=this.Z)!==null&&_this$Z!==void 0?_this$Z:this.Z=new Promise(function(t){return _this9.q=t;});}},{key:"resume",value:function resume(){var _this$q;(_this$q=this.q)!==null&&_this$q!==void 0&&_this$q.call(this),this.Z=this.q=void 0;}}]);}();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var n=function n(t){return!i$2(t)&&"function"==typeof t.then;},h=1073741823;var c=/*#__PURE__*/function(_f2){function c(){var _this10;_classCallCheck(this,c);_this10=_callSuper(this,c,arguments),_this10._$Cwt=h,_this10._$Cbt=[],_this10._$CK=new s(_assertThisInitialized(_this10)),_this10._$CX=new i();return _this10;}_inherits(c,_f2);return _createClass(c,[{key:"render",value:function render(){var _s$find;for(var _len4=arguments.length,s=new Array(_len4),_key4=0;_key4<_len4;_key4++){s[_key4]=arguments[_key4];}return(_s$find=s.find(function(t){return!n(t);}))!==null&&_s$find!==void 0?_s$find:T;}},{key:"update",value:function update(s,i){var _this11=this;var e=this._$Cbt;var r=e.length;this._$Cbt=i;var o=this._$CK,_c2=this._$CX;this.isConnected||this.disconnected();var _loop=function _loop(){var s=i[_t15];if(!n(s))return{v:(_this11._$Cwt=_t15,s)};_t15<r&&s===e[_t15]||(_this11._$Cwt=h,r=0,Promise.resolve(s).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(t){var i,_e9;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!_c2.get()){_context2.next=5;break;}_context2.next=3;return _c2.get();case 3:_context2.next=0;break;case 5:i=o.deref();if(void 0!==i){_e9=i._$Cbt.indexOf(s);_e9>-1&&_e9<i._$Cwt&&(i._$Cwt=_e9,i.setValue(t));}case 7:case"end":return _context2.stop();}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}()));},_ret;for(var _t15=0;_t15<i.length&&!(_t15>this._$Cwt);_t15++){_ret=_loop();if(_ret)return _ret.v;}return T;}},{key:"disconnected",value:function disconnected(){this._$CK.disconnect(),this._$CX.pause();}},{key:"reconnected",value:function reconnected(){this._$CK.reconnect(this),this._$CX.resume();}}]);}(f);var m=e(c);var configValidator=function configValidator(config){if(config.show_floor_icons!==undefined){if(typeof config.show_floor_icons!=="boolean"&&config.show_floor_icons!=="always"){throw new Error("Invalid show_floor_icons value");}}if(config.floor_icons_position!==undefined){if(typeof config.floor_icons_position!=="string"||config.floor_icons_position!=="left"&&config.floor_icons_position!=="right"){throw new Error("Invalid floor_icons_position value");}}if(config.show_area_icons!==undefined){if(typeof config.show_area_icons!=="boolean"&&config.show_area_icons!=="always"){throw new Error("Invalid show_area_icons value");}}if(config.area_icons_position!==undefined){if(typeof config.area_icons_position!=="string"||config.area_icons_position!=="left"&&config.area_icons_position!=="right"){throw new Error("Invalid area_icons_position value");}}if(config.entity_icon_placement!==undefined){if(typeof config.entity_icon_placement!=="string"||config.entity_icon_placement!=="left"&&config.entity_icon_placement!=="right"){throw new Error("Invalid entity_icon_placement value");}}if(config.domain_sort_order!==undefined){if(!Array.isArray(config.domain_sort_order)){throw new Error("Invalid domain_sort_order value");}var _iterator14=_createForOfIteratorHelper(config.domain_sort_order),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var domain=_step14.value;if(typeof domain!=="string"){throw new Error("Invalid domain_sort_order value");}}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}}if(config.class_sort_order!==undefined){if(!Array.isArray(config.class_sort_order)){throw new Error("Invalid class_sort_order value");}var _iterator15=_createForOfIteratorHelper(config.class_sort_order),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var className=_step15.value;if(typeof className!=="string"){throw new Error("Invalid class_sort_order value");}}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}}if(config.include_domains!==undefined){if(!Array.isArray(config.include_domains)){throw new Error("Invalid include_domains value");}var _iterator16=_createForOfIteratorHelper(config.include_domains),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var _domain=_step16.value;if(typeof _domain!=="string"){throw new Error("Invalid include_domains value");}}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}}if(config.include_classes!==undefined){if(!Array.isArray(config.include_classes)){throw new Error("Invalid include_classes value");}var _iterator17=_createForOfIteratorHelper(config.include_classes),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var _className=_step17.value;if(typeof _className!=="string"){throw new Error("Invalid include_classes value");}}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}}if(config.include_states!==undefined){if(!Array.isArray(config.include_states)){throw new Error("Invalid include_states value");}var _iterator18=_createForOfIteratorHelper(config.include_states),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var state=_step18.value;if(typeof state!=="string"){throw new Error("Invalid include_states value");}}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}}if(config.include!==undefined){if(_typeof(config.include)!=="object"){throw new Error("Invalid include value");}}};var stubConfig={header:"Home Overview",show_floor_icons:"always",show_area_icons:"always",preferred_icons:{tamper:"mdi:alarm-light-outline"}};var defaultConfig={show_floor_icons:true,floor_gap:8,area_gap:8,floor_icons_position:"left",show_area_icons:true,default_area_icon:"mdi:texture-box",off_color:"grey",area_icons_position:"left",entity_icon_placement:"right",domain_sort_order:["light","switch","binary_sensor","sensor","climate"],class_sort_order:["door","window","tamper","occupancy"],// include: {
//   light: { states: ["on"] },
//   input_boolean: { states: ["on"] },
//   binary_sensor: { states: ["on"], classes: ["door", "window", "occupancy", "tamper"] },
// },
include_all:false,include_hidden:false,preferred_icons:{}};var cardName='floors-card';var FloorsCard=/*#__PURE__*/function(_r$2){function FloorsCard(){var _this12;_classCallCheck(this,FloorsCard);_this12=_callSuper(this,FloorsCard);_this12._entities=[];_this12._floors={};_this12._areas={};_this12._entityCards=new Map();_this12._entitiesContainerCard=new Map();_this12.entityStateFilter=function(entity){var _a,_b,_c,_d,_e,_f,_g,_h,_j;var domain=entity.entity_id.split(".")[0];var deviceClass=entity.attributes.device_class||'no_class';if(_this12.config.include){var include=_this12.config.include[domain];if(include){if(include.classes&&!include.classes.includes(deviceClass))return false;if(include.states&&!include.states.includes(entity.state))return false;if(_this12.config.include_states&&!_this12.config.include_states.includes(entity.state))return false;if(((_b=(_a=_this12===null||_this12===void 0?void 0:_this12._hass)===null||_a===void 0?void 0:_a.entities[entity.entity_id])===null||_b===void 0?void 0:_b.hidden)&&!_this12.config.include_hidden)return false;return true;}return false;}else{var domainIncluded=(_d=(_c=_this12.config.include_domains)===null||_c===void 0?void 0:_c.includes(domain))!==null&&_d!==void 0?_d:false;var classIncluded=(_f=(_e=_this12.config.include_classes)===null||_e===void 0?void 0:_e.includes(deviceClass))!==null&&_f!==void 0?_f:false;var stateIncluded=(_h=(_g=_this12.config.include_states)===null||_g===void 0?void 0:_g.includes(entity.state))!==null&&_h!==void 0?_h:true;var hidden=(_j=_this12._hass.entities[entity.entity_id])===null||_j===void 0?void 0:_j.hidden;var includeHidden=_this12.config.include_hidden||!hidden;return(domainIncluded&&classIncluded||_this12.config.include_all)&&stateIncluded&&includeHidden;}};_this12._entitySort=function(a,b){var aDomain=a.entity_id.split(".")[0];var bDomain=b.entity_id.split(".")[0];var domainCompare=_this12.config.domain_sort_order.indexOf(aDomain)-_this12.config.domain_sort_order.indexOf(bDomain);return domainCompare!==0?domainCompare:a.entity_id.localeCompare(b.entity_id);};_this12._iconCache=new Map();_this12._colorCache=new Map();_this12.config=defaultConfig;return _this12;}_inherits(FloorsCard,_r$2);return _createClass(FloorsCard,[{key:"setConfig",value:function setConfig(config){configValidator(config);this.config=Object.assign(Object.assign({},defaultConfig),config);}},{key:"hass",set:function set(hass){if(this._hass===hass)return;this._hass=hass;// Clear cache when entities change
if(!this._updateEntities(hass))return;this.requestUpdate();}},{key:"_updateEntities",value:function _updateEntities(hass){var _this13=this;var newEntities=Object.values(hass.states).filter(this.entityStateFilter);var entitiesChanged=newEntities.length!==this._entities.length||newEntities.some(function(e,i){var _a,_b;return e.entity_id!==((_a=_this13._entities[i])===null||_a===void 0?void 0:_a.entity_id)||e.last_updated!==((_b=_this13._entities[i])===null||_b===void 0?void 0:_b.last_updated);});if(!entitiesChanged)return false;this._entities=newEntities;this._floors=hass.floors||{};this._areas=hass.areas||{};this._iconCache.clear();this._colorCache.clear();return true;}},{key:"render",value:function render(){if(!this._hass)return x(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["<ha-card>Loading...</ha-card>"])));return x(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n      <ha-card .header=",">\n        <div style=\"gap: ","px\" class=\"card-content\">","</div>\n      </ha-card>\n    "])),this.config.header||E,this.config.floor_gap,this._renderFloors());}},{key:"_renderFloors",value:function _renderFloors(){var _this14=this;var floors=this._groupAreasByFloor();return Object.values(floors).map(function(floor){var renderedAreas=floor.areas.map(function(area){return _this14._renderArea(area);});if(renderedAreas.every(function(area){return area===E;}))return E;return x(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["\n        <div style=\"gap: ","px\" class=\"floor\">\n          "," ","\n        </div>\n      "])),_this14.config.floor_gap,_this14._renderFloorHeader(floor),renderedAreas);});}},{key:"_groupAreasByFloor",value:function _groupAreasByFloor(){var _this15=this;var floors={};Object.values(this._areas).forEach(function(area){var _a,_b;var floorId=area.floor_id||"unknown";(_a=floors[floorId])!==null&&_a!==void 0?_a:floors[floorId]=Object.assign(Object.assign({},_this15._floors[floorId]),{name:((_b=_this15._floors[floorId])===null||_b===void 0?void 0:_b.name)||"Unknown Floor",areas:[]});floors[floorId].areas.push(area);});return floors;}},{key:"_renderFloorHeader",value:function _renderFloorHeader(floor){var floorIcon=this.config.show_floor_icons=='always'?floor.icon||"mdi:home-floor-".concat(floor.floor_id):floor.icon;var headerClass=this.config.floor_icons_position=='right'?'icon-right':'icon-left';return x(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["\n      <h2 class=\"","\">\n        ","\n        ","\n      </h2>\n    "])),headerClass,this.config.show_floor_icons?x(_templateObject6||(_templateObject6=_taggedTemplateLiteral(["<ha-icon .icon=","></ha-icon>"])),floorIcon):E,floor.name);}},{key:"_renderArea",value:function _renderArea(area){var _this16=this;var entities=this._getAreaEntities(area);if(entities.length===0)return E;var entitiesCardContainer=this.config.entities_container_card?m(this._getEntitiesContainerCard(area.area_id,entities),x(_templateObject7||(_templateObject7=_taggedTemplateLiteral(["Loading..."])))):x(_templateObject8||(_templateObject8=_taggedTemplateLiteral(["\n          <div class=\"entities\">\n            ","\n          </div>\n        "])),entities.map(function(entity){return m(_this16._getEntityCard(entity.entity_id),x(_templateObject9||(_templateObject9=_taggedTemplateLiteral(["Loading..."]))));}));var areaIconClass=this.config.entity_icon_placement=='left'?'entity-icons-left':'entity-icons-right';return x(_templateObject10||(_templateObject10=_taggedTemplateLiteral(["\n      <div class=\"area ","\">\n        "," ","\n      </div>\n    "])),areaIconClass,this._renderAreaHeader(area),entitiesCardContainer);}},{key:"_getAreaEntities",value:function _getAreaEntities(area){var _this17=this;return this._entities.filter(function(entity){var _a,_b,_c;var entityArea=(_a=_this17._hass.entities[entity.entity_id])===null||_a===void 0?void 0:_a.area_id;var deviceArea=(_c=_this17._hass.devices[((_b=_this17._hass.entities[entity.entity_id])===null||_b===void 0?void 0:_b.device_id)||""])===null||_c===void 0?void 0:_c.area_id;return(entityArea||deviceArea)===area.area_id;}).sort(this._entitySort);}},{key:"_renderAreaHeader",value:function _renderAreaHeader(area){var areaIcon=this.config.show_area_icons=='always'?area.icon||this.config.default_area_icon:area.icon;var headerClass=this.config.area_icons_position=='right'?'icon-right':'icon-left';return x(_templateObject11||(_templateObject11=_taggedTemplateLiteral(["\n      <h3 class=\"","\">\n        ","\n        ","\n      </h3>\n    "])),headerClass,this.config.show_area_icons?x(_templateObject12||(_templateObject12=_taggedTemplateLiteral(["<ha-icon .icon=","></ha-icon>"])),areaIcon):E,area.name);}},{key:"_getEntitiesContainerCard",value:function(){var _getEntitiesContainerCard2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(area_id,entities){var _this18=this;var config_overrides,config,entitiesContainerCardKey;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(!this.config.entities_container_card){_context3.next=6;break;}config_overrides=_defineProperty({},this.config.entities_container_card.cards_param,entities.map(function(entity){return _this18._createEntityCardConfig(entity.entity_id);}));config=Object.assign({},this.config.entities_container_card,config_overrides);entitiesContainerCardKey="".concat(area_id,"-").concat(entities.length);if(!this._entitiesContainerCard[entitiesContainerCardKey]){this._entitiesContainerCard[entitiesContainerCardKey]=this._createCard(config);}return _context3.abrupt("return",this._entitiesContainerCard[entitiesContainerCardKey]);case 6:return _context3.abrupt("return",x(_templateObject13||(_templateObject13=_taggedTemplateLiteral([" <div class=\"entities\">\n      ","\n    </div>"])),entities.map(function(entity){return m(_this18._getEntityCard(entity.entity_id),x(_templateObject14||(_templateObject14=_taggedTemplateLiteral(["Loading..."]))));})));case 7:case"end":return _context3.stop();}},_callee3,this);}));function _getEntitiesContainerCard(_x3,_x4){return _getEntitiesContainerCard2.apply(this,arguments);}return _getEntitiesContainerCard;}()},{key:"_getEntityCard",value:function(){var _getEntityCard2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(entity_id){var _this19=this;var entityColor,icon,iconColor,backgroundColor;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(!this.config.entity_card){_context4.next=3;break;}if(!this._entityCards.has(entity_id)){this._entityCards.set(entity_id,this._createCard(this._createEntityCardConfig(entity_id)));}return _context4.abrupt("return",this._entityCards.get(entity_id));case 3:entityColor=this._getEntityColor(entity_id);icon=this._getEntityIcon(entity_id);iconColor=entityColor.includes("#")?entityColor:"var(--".concat(entityColor,"-color)");backgroundColor="rgb(from ".concat(iconColor," r g b / 0.2)");return _context4.abrupt("return",x(_templateObject15||(_templateObject15=_taggedTemplateLiteral(["\n      <div class=\"entity-card\">\n        <ha-icon-button\n          .label=","\n          class=\"entity-card-button\"\n          size=\"50\"\n          style=\"background-color: ",";\"\n          @click=","\n        >\n          <ha-icon .icon="," style=\"color: ",";\"></ha-icon>\n        </ha-icon-button>\n      </div>\n    "])),entity_id,backgroundColor,function(){return _this19._handleMoreInfo(entity_id);},icon,iconColor));case 8:case"end":return _context4.stop();}},_callee4,this);}));function _getEntityCard(_x5){return _getEntityCard2.apply(this,arguments);}return _getEntityCard;}()},{key:"_handleMoreInfo",value:function _handleMoreInfo(entityId){var event=new Event("hass-more-info",{bubbles:true,composed:true});event.detail={entityId:entityId,view:"info"};this.dispatchEvent(event);}},{key:"_createCard",value:function(){var _createCard2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(cardConfig){var helpers,card;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return window.loadCardHelpers();case 2:helpers=_context5.sent;card=helpers.createCardElement(cardConfig);card.hass=this._hass;// await card.requestUpdate();
return _context5.abrupt("return",x(_templateObject16||(_templateObject16=_taggedTemplateLiteral(["",""])),card));case 6:case"end":return _context5.stop();}},_callee5,this);}));function _createCard(_x6){return _createCard2.apply(this,arguments);}return _createCard;}()},{key:"_createEntityCardConfig",value:function _createEntityCardConfig(entity_id){return Object.assign(Object.assign({type:'none'},this.config.entity_card),{entity:entity_id,icon:this._getEntityIcon(entity_id),icon_color:this._getEntityColor(entity_id)});// return {
//   type: "custom:mushroom-template-card",
//   entity: entity_id,
//   icon: this._getEntityIcon(entity_id),
//   icon_color: this._getEntityColor(entity_id),
//   tap_action: { action: "more-info" },
//   card_mod: {
//     style: {
//       "mushroom-card mushroom-state-item$": css`
//         .container { padding: 0 !important; padding-bottom: 4px !important; }
//       `,
//     },
//   },
// };
}},{key:"_getEntityIcon",value:function _getEntityIcon(entity_id){var entity=this._hass.states[entity_id];var cacheKey="".concat(entity_id,"|").concat(entity.attributes.icon,"|").concat(entity.state,"|").concat(entity.attributes.device_class);if(!this._iconCache.has(cacheKey)){var _entity_id$split=entity_id.split("."),_entity_id$split2=_slicedToArray(_entity_id$split,1),domain=_entity_id$split2[0];var deviceClass=entity.attributes.device_class;var icon=this.config.preferred_icons[entity_id]||this.config.preferred_icons[deviceClass]||entity.attributes.icon||this._defaultIcon(domain,deviceClass);this._iconCache.set(cacheKey,icon);}return this._iconCache.get(cacheKey);}},{key:"_defaultIcon",value:function _defaultIcon(domain,deviceClass){if(domain==="light")return"mdi:lightbulb";if(domain==="binary_sensor"){switch(deviceClass){case"door":return"mdi:door-sliding-open";case"window":return"mdi:window-closed";case"occupancy":return"mdi:motion-sensor";case"tamper":return"m3rf:policy-alert";}}return"mdi:alert-circle-outline";}},{key:"_getEntityColor",value:function _getEntityColor(entity_id){var entity=this._hass.states[entity_id];var cacheKey="".concat(entity_id,"|").concat(entity.state,"|").concat(JSON.stringify(entity.attributes));if(!this._colorCache.has(cacheKey)){var color=this._getEntityColorValue(entity);this._colorCache.set(cacheKey,color);}return this._colorCache.get(cacheKey);}},{key:"_getEntityColorValue",value:function _getEntityColorValue(entity){if(entity.state==="off"&&this.config.off_color)return this.config.off_color;if(entity.entity_id.includes("light.")){if(entity.attributes.rgb_color){var rgb=entity.attributes.rgb_color;return"#".concat(((1<<24)+(rgb[0]<<16)+(rgb[1]<<8)+rgb[2]).toString(16).slice(1));}return"orange";}if(entity.entity_id.includes("binary_sensor.")){switch(entity.attributes.device_class){case"door":return"green";case"window":return"green";case"occupancy":return"blue";case"tamper":return"red";}}return"grey";}},{key:"getCardSize",value:function getCardSize(){return 3;}}]);}(r$3);FloorsCard.styles=styles;FloorsCard.getStubConfig=function(){return stubConfig;};__decorate([r$1()],FloorsCard.prototype,"_entities",void 0);__decorate([r$1()],FloorsCard.prototype,"_floors",void 0);__decorate([r$1()],FloorsCard.prototype,"_areas",void 0);FloorsCard=__decorate([t$1(cardName)],FloorsCard);var FloorsCard$1=FloorsCard;export{FloorsCard$1 as default};
//# sourceMappingURL=card.js.map
